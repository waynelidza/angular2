

<form #stdProvinputForm="ngForm" (ngSubmit)="doProvisioning(stdProvinputForm.value,$event); stdProvinputForm.reset();"  id='daForm'>

  <div class="input-group">
    <span class="input-group-addon" id="YourProjectName-addon" >Project Name</span>
    <input type="text" class="form-control" id="projectName" name="projectName" [(ngModel)]="stdProvForm.ProjectName" aria-describedby="YourProjectName-addon" required>
  </div>

  <div class="input-group" style="margin-top:10px;">
    <span class="input-group-addon" id="YourProvisioningName-addon" >Provisioning Name</span>
    <input type="text" class="form-control" id="ProvisioningName" name="ProvisioningName" [(ngModel)]="stdProvForm.ProvisioningName" aria-describedby="YourProvisioningName-addon" required>
  </div>

    <div style="margin-top:10px;">
        Select an OS
        <select class="form-control" [(ngModel)]="stdProvForm.OS" name="oS" (change)="osChanged($event.target.value)" required >     
            <option *ngFor="let os of OSArr"  [ngValue]="os"  >
                {{os.Description}}
            </option>
        </select> 
    </div>

    <div class="input-group" style="margin-top:10px;">
      <span class="input-group-addon" id="YourRootVolumeSize-addon" >Root Volume Size</span>
      <input type="text" class="form-control" id="RootVolumeSize" name="RootVolumeSize" ngModel aria-describedby="YourRootVolumeSize-addon"  
          [(ngModel)]="stdProvForm.RootVolumeSize"  required>
    </div>

    <div style="margin-top:10px;">
        Select a VM size
        <select class="form-control" [(ngModel)]="stdProvForm.Size" name="Size" required>     
            <option *ngFor="let size of SizeArr" [ngValue]="size"  >
              {{size.Description}}</option>
        </select> 
    </div>

  <div class="input-group" style="margin-top:10px;">
    <span class="input-group-addon" id="YourProjectName-addon" >Additional Disks</span>
    <input type="text" class="form-control" id="theDiskInput" name="theinput" [(ngModel)]="theDiskInput" aria-describedby="YourProjectName-addon" >

      <button style="margin:5px;" class="btn btn-primary" (click)="addAdditionalDisk('1',$event)">+ Add disk</button>
      <button style="margin:5px;"class="btn btn-primary" (click)="removeAdditionalDisks('1',$event)"> - Clear all</button>
  </div>

    <div><b>Additional Disk Count:</b> {{stdProvForm.AdditionalDisks.length}}</div>

      <div *ngFor="let item of stdProvForm.AdditionalDisks; let i = index;">

          <!--<span class="input-group-addon" >Additional Disk-{{i}}</span>-->
          Additional Disk-{{i}} (Gigabyte)
          <input  type="text" class="form-control" id="stdProvFormAdditionalDisks{{i}}" name="stdProvFormAdditionalDisks{{i}}" [(ngModel)]="stdProvForm.AdditionalDisks[i].size"  readonly >
          
      </div>

        <div style="margin-top:10px;">
            Select a subnet
            <select class="form-control" [(ngModel)]="stdProvForm.Subnet" name="Subnet" required>     
                <option *ngFor="let snet of SubnetArr" [ngValue]="snet" >
                  {{snet.Description}}</option>
            </select> 
        </div>
    
  <div style="margin:10px;">
    <button type="submit" class="btn btn-primary"  data-toggle="modal" data-target="#myModal">
      Deploy
      <span class="glyphicon glyphicon-send "></span>  
    </button>
</div>
      <span style='color:red;'>{{message}}</span> 
</form>

<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"><span class="glyphicon glyphicon-shopping-cart"></span> Request Confirmation</h4>
      </div>
      <div class="modal-body">
        <p>Request Summary: </p>
        <div class="container">
          <div class="table-responsive" style="width:400px">
            <table class="table" >
              <thead>
              <tr >
                <th>Key</th>
                <th>Value</th>
                </tr>
              </thead>
              <tbody>

              <tr>
                <td>Project Name:</td>
                <td>{{stdProvForm.projectName}}</td>
              </tr>

              <tr>
                <td>Template Name:</td>
                <td>{{stdProvForm.name}}</td>
              </tr>

              <tr>
                <td>Subnet:</td>
                <td>{{stdProvForm.Subnet}}</td>
              </tr>

              <tr>
                <td>Operating System:</td>
                <td>{{stdProvForm.oS}}</td>
              </tr>

              <tr>
                <td>Size:</td>
                <td>{{stdProvForm.Size}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      </div>

      <div class="modal-footer">
        <button type="button" (click)= "sendConfirmedRequest('',$event)" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-thumbs-up"></span>Confirm</button>
        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-thumbs-down"></span>Quit</button>
      </div>
    </div>
  </div>
</div>

<!--<pre>OS arr: <br>{{OSArr | json}}</pre>
<pre>SizeArr: <br>{{SizeArr | json}}</pre>
<pre>SubnetArr: <br>{{SubnetArr | json}}</pre>-->
<!--<pre>stdProvinputForm: <br>{{stdProvinputForm.value | json}}</pre>
<pre>stdProvForm object: <br>{{stdProvForm | json}}</pre>
<pre>theFormJson: <br>{{theFormJson | json}}</pre>-->


